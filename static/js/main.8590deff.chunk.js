(this.webpackJsonpot_insights_api_react=this.webpackJsonpot_insights_api_react||[]).push([[0],{170:function(e,t,r){e.exports=r.p+"static/media/logo.5d5d9eef.svg"},181:function(e,t,r){e.exports=r(384)},186:function(e,t,r){},188:function(e,t,r){},192:function(e,t){},194:function(e,t){},230:function(e,t){},231:function(e,t){},379:function(e,t,r){},384:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(168),c=r.n(s),o=(r(186),r(187),r(178)),i=r(38),u=(r(188),r(71)),l=r(169),b=r(4),d=r(5),m=r(7),f=r(6),v=r(56),p=r(8),j=r(170),h=r.n(j),y=function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(m.a)(this,Object(f.a)(t).call(this))).handleSubmit=e.handleSubmit.bind(Object(v.a)(e)),e.changeQueryType=e.changeQueryType.bind(Object(v.a)(e)),localStorage.removeItem("project"),localStorage.removeItem("session"),e.state={queryType:"project",sessionIdDisable:!0},e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=Array.prototype.slice.call(e.target).filter((function(e){return e.name})).reduce((function(e,t){return Object(l.a)({},e,Object(u.a)({},t.name,t.value))}),{});"project"===t.query_type?(localStorage.setItem("project",JSON.stringify(t)),this.props.history.push("/project")):(localStorage.setItem("session",JSON.stringify(t)),this.props.history.push("/session"))}},{key:"changeQueryType",value:function(e){var t=e.target.value;this.setState({queryType:t});var r="session"!==t;this.setState({sessionIdDisable:r})}},{key:"render",value:function(){return n.a.createElement("div",{className:"container h-100"},n.a.createElement("div",{className:"row align-items-center h-100 my-5 py-5"},n.a.createElement("div",{className:"col-6 mx-auto"},n.a.createElement("div",{className:"jumbotron bg-light py-4"},n.a.createElement("h3",{className:"text-center"},n.a.createElement("img",{src:h.a,className:"w-25",alt:"logo"}),n.a.createElement("br",null),"Opentok Insights API Graph"),n.a.createElement("hr",null),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"project_id"},"Project ID"),n.a.createElement("input",{id:"project_id",name:"project_id",type:"text",className:"form-control",placeholder:"Project ID",required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"project_secret"},"Project Secret"),n.a.createElement("input",{id:"project_secret",name:"project_secret",type:"text",className:"form-control",placeholder:"Project Secret",required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"query_type"},"Query Type"),n.a.createElement("select",{className:"custom-select",onChange:this.changeQueryType.bind(this),value:this.state.queryType,name:"query_type",required:!0},n.a.createElement("option",{value:"project",defaultValue:!0},"Project Level"),n.a.createElement("option",{value:"session"},"Session Level"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"session_id"},"Session ID"),n.a.createElement("input",{id:"session_id",name:"session_id",type:"text",className:"form-control",placeholder:"Tokbox Session ID",disabled:this.state.sessionIdDisable})),n.a.createElement("div",{className:"text-center"},n.a.createElement("button",{className:"btn btn-primary text-uppercase"},"View Stats")))))))}}]),t}(n.a.Component),g=function(e){function t(e){return Object(b.a)(this,t),Object(m.a)(this,Object(f.a)(t).call(this))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top"},n.a.createElement("a",{className:"navbar-brand",href:"/"},this.props.title),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item active"},n.a.createElement("a",{className:"nav-link",href:"/"},"Go To Home"))),n.a.createElement("span",{className:"navbar-text d-inline-flex"},n.a.createElement("p",{className:"lead mb-0"},"Project ID:\xa0",n.a.createElement("span",{className:"font-weight-bold"},this.props.projectId)),"session"===this.props.type&&n.a.createElement("p",{className:"lead mb-0"},"\xa0 Session ID: \xa0",n.a.createElement("span",{className:"font-weight-bold"},this.props.sessionId)))))}}]),t}(n.a.Component),E=r(171),O=r.n(E),C=function(e,t){var r=Math.floor(new Date/1e3);return O.a.sign({iss:e,ist:"project",iat:r,exp:r+3600},t)},I=r(72),S=r.n(I),D=r(32),k=r(77),B=r(76),N=r(19),A=function(e){function t(){return Object(b.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"card m-3 scroll-element",id:this.props.scrollId},n.a.createElement("div",{className:"card-header font-weight-bold"},n.a.createElement("i",{className:"fas fa-chart-".concat(this.props.titleIcon)})," ",this.props.title),n.a.createElement("div",{className:"card-body w-95"},this.props.children))}}]),t}(a.Component),F=r(11),q=r(12),x=r.n(q),M=r(386),T=r(13),w=r(2),L=r(17),P=r.n(L),V=(r(379),function(e){function t(){return Object(b.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"lds-default"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))}}]),t}(a.Component)),K=function(e){function t(){return Object(b.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"errorMessage"},"Error! ",this.props.error)}}]),t}(a.Component);function _(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n          projectData(\n            start: ",",\n            interval: DAILY\n          ) {\n            resources {\n              intervalStart,\n              intervalEnd,\n              usage {\n                streamedPublishedMinutes,\n                streamedSubscribedMinutes,\n                individualArchiveMinutes,\n                sdBroadcastComposedMinutes,\n                sipUserMinutes\n              }\n            }\n          }\n        }\n      }\n    "]);return _=function(){return e},e}var U=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n=x()(_(),a,P()().subtract(30,"days"));return r.state={query:n},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement(M.a,{query:this.state.query},(function(e){var t=e.loading,r=e.error,a=e.data;if(t)return n.a.createElement(V,null);if(r)return n.a.createElement(K,{error:r.message});var s=Object(w.get)(a,"project.projectData.resources",[]);return n.a.createElement(T.c,{data:{labels:s.map((function(e){return P()(e.intervalStart).format("MMM DD")})),datasets:[{label:"Streamed Published Minutes",backgroundColor:"rgba(75,192,192,0.4)",data:s.map((function(e){return Object(w.get)(e,"usage.streamedPublishedMinutes",0)}))},{label:"Streamed Subscribed Minutes",backgroundColor:"rgba(75,75,192,0.4)",data:s.map((function(e){return Object(w.get)(e,"usage.streamedSubscribedMinutes",0)}))},{label:"Individual Archive Minutes",backgroundColor:"#99004C",data:s.map((function(e){return Object(w.get)(e,"usage.individualArchiveMinutes",0)}))},{label:"Broadcast Composed Minutes",backgroundColor:"#CC6600",data:s.map((function(e){return Object(w.get)(e,"usage.sdBroadcastComposedMinutes",0)}))},{label:"SIP User Minutes",backgroundColor:"#3333FF",data:s.map((function(e){return Object(w.get)(e,"usage.sipUserMinutes",0)}))}]}})}))}}]),t}(a.Component),R=r(75),W=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)};function Y(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n          projectData(\n            start: ",",\n            interval: DAILY,\n            groupBy: COUNTRY\n          ) {\n            resources {\n              country\n              usage {\n                streamedSubscribedMinutes\n              }\n            }\n          }\n        }\n      }\n    "]);return Y=function(){return e},e}var J=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n=x()(Y(),a,P()().subtract(30,"days"));return r.state={query:n},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t=e.filter((function(e){return null!=e.country})),r={};t.forEach((function(e){r[e.country]=r[e.country]||0;var t=null==e.usage?0:e.usage.streamedSubscribedMinutes;r[e.country]=W(r[e.country]+t,4)}));var a=e.filter((function(e){return null==e.country})).map((function(e){return Object(w.get)(e,"usage.streamedSubscribedMinutes",0)})),n=function(e){return isNaN(e)?0:e},s=a.reduce((function(e,t){return n(e)+n(t)}));return s>0&&(r.Others=s),Object.entries(r)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c=Object(w.get)(s,"project.projectData.resources",[]),o=[["Country","Subscribed Usage(Mins)"]],i=e.getSubscribedData(c);return o=o.concat(i),n.a.createElement(R.a,{chartType:"GeoChart",data:o,width:"100%",height:"400px",legendToggle:!0})}))}}]),t}(a.Component);function G(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n          projectData(\n            start: ",",\n            interval: DAILY,\n            groupBy: BROWSER\n          ) {\n            resources {\n              browser\n              usage {\n                streamedSubscribedMinutes\n              }\n            }\n          }\n        }\n      }\n    "]);return G=function(){return e},e}var H=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n=x()(G(),a,P()().subtract(30,"days"));return r.state={query:n},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t=e.filter((function(e){return null!=e.browser})),r={};t.forEach((function(e){r[e.browser]=r[e.browser]||0;var t=null==e.usage?0:e.usage.streamedSubscribedMinutes;r[e.browser]=W(r[e.browser]+t,2)}));var a=e.filter((function(e){return null==e.browser})).map((function(e){return Object(w.get)(e,"usage.streamedSubscribedMinutes",0)})),n=function(e){return isNaN(e)?0:e},s=a.reduce((function(e,t){return n(e)+n(t)}),0);return s>0&&(r.Others=s),{labels:Object.keys(r),browserData:Object.values(r)}}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c=Object(w.get)(s,"project.projectData.resources",[]),o=e.getSubscribedData(c),i=o.labels,u=o.browserData;return n.a.createElement(T.d,{data:{labels:i,datasets:[{data:u,backgroundColor:["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"]}]}})}))}}]),t}(a.Component);function Q(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n          projectData(\n            start: ",",\n            interval: DAILY,\n            groupBy: BROWSER_VERSION\n          ) {\n            resources {\n              browserVersion\n              browser\n              usage {\n                streamedSubscribedMinutes\n              }\n            }\n          }\n        }\n      }\n    "]);return Q=function(){return e},e}var z=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n=x()(Q(),a,P()().subtract(30,"days"));return r.state={query:n},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t=e.filter((function(e){return null!=e.browserVersion})),r={};t.forEach((function(e){var t=e.browser+e.browserVersion;r[t]=r[t]||0;var a=null==e.usage?0:e.usage.streamedSubscribedMinutes;r[t]=W(r[t]+a,2)}));var a=e.filter((function(e){return null==e.browserVersion})).map((function(e){return Object(w.get)(e,"usage.streamedSubscribedMinutes",0)})),n=function(e){return isNaN(e)?0:e},s=a.reduce((function(e,t){return n(e)+n(t)}),0);return s>0&&(r.Others=s),{labels:Object.keys(r),browserData:Object.values(r)}}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c=Object(w.get)(s,"project.projectData.resources",[]),o=e.getSubscribedData(c),i=o.labels,u=o.browserData;return n.a.createElement(T.d,{data:{labels:i,datasets:[{data:u,backgroundColor:["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"]}]}})}))}}]),t}(a.Component);function X(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n          projectData(\n            start: ",",\n            groupBy: SDK_VERSION\n          ) {\n            resources {\n              sdkType,\n              usage {\n                streamedSubscribedMinutes\n              }\n            }\n          }\n        }\n      }\n    "]);return X=function(){return e},e}var $=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n=x()(X(),a,P()().subtract(30,"days"));return r.state={query:n},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t=e.filter((function(e){return null!=e.sdkVersion})),r={};t.forEach((function(e){r[e.sdkVersion]=r[e.sdkVersion]||0,r[e.sdkVersion]=W(r[e.sdkVersion]+e.usage.streamedSubscribedMinutes,2)}));var a=e.filter((function(e){return null==e.sdkVersion})).map((function(e){return Object(w.get)(e,"usage.streamedSubscribedMinutes",0)})),n=function(e){return isNaN(e)?0:e},s=a.reduce((function(e,t){return n(e)+n(t)}),0);return s>0&&(r.Unknown=s),{labels:Object.keys(r),subscribedData:Object.values(r)}}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c=Object(w.get)(s,"project.projectData.resources",[]),o=e.getSubscribedData(c),i=o.labels,u=o.subscribedData;return n.a.createElement(T.d,{data:{labels:i,datasets:[{label:"SDK Versions",backgroundColor:["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"],data:u}]}})}))}}]),t}(a.Component);function Z(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n          projectData(\n            start: ",",\n            groupBy: SDK_TYPE,\n            sdkType: [JS, ANDROID, IOS, WINDOWS, OTHER]\n          ) {\n            resources {\n              sdkType,\n              usage {\n                streamedSubscribedMinutes\n              }\n            }\n          }\n        }\n      }\n    "]);return Z=function(){return e},e}var ee=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n=x()(Z(),a,P()().subtract(30,"days"));return r.state={query:n},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t=e.filter((function(e){return null!=e.sdkType})),r={};t.forEach((function(e){r[e.sdkType]=r[e.sdkType]||0,r[e.sdkType]=W(r[e.sdkType]+e.usage.streamedSubscribedMinutes,2)}));var a=e.filter((function(e){return null==e.sdkType})).map((function(e){return Object(w.get)(e,"usage.streamedSubscribedMinutes",0)})),n=function(e){return isNaN(e)?0:e},s=a.reduce((function(e,t){return n(e)+n(t)}),0);return s>0&&(r.Unknown=s),{labels:Object.keys(r),subscribedData:Object.values(r)}}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c=Object(w.get)(s,"project.projectData.resources",[]),o=e.getSubscribedData(c),i=o.labels,u=o.subscribedData;return n.a.createElement(T.d,{data:{labels:i,datasets:[{label:"SDK Distributions",backgroundColor:["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"],data:u}]}})}))}}]),t}(a.Component);function te(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n          projectData(\n            start: ",",\n            groupBy: COUNTRY\n          ) {\n            resources {\n              country,\n              quality {\n                subscriber {\n                  latencyMsAvg\n                }\n              }\n            }\n          }\n        }\n      }\n    "]);return te=function(){return e},e}var re=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n=x()(te(),a,P()().subtract(30,"days"));return r.state={query:n},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement(M.a,{query:this.state.query},(function(e){var t=e.loading,r=e.error,a=e.data;if(t)return n.a.createElement(V,null);if(r)return n.a.createElement(K,{error:r.message});var s=Object(w.get)(a,"project.projectData.resources",[]);return n.a.createElement(T.b,{data:{labels:s.map((function(e){return e.country})),datasets:[{label:"Avg. latency",backgroundColor:"#36A2EB",data:s.map((function(e){return Object(w.get)(e,"quality.subscriber.latencyMsAvg",0)}))}]}})}))}}]),t}(a.Component);function ae(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n          projectData(\n            start: ",",\n            groupBy: SDK_TYPE,\n            sdkType: [JS, ANDROID, IOS, WINDOWS, OTHER]\n          ) {\n            resources {\n              sdkType,\n              errors {\n                connect {\n                  failures\n                },\n                publish {\n                  failures\n                },\n                subscribe {\n                  failures\n                }\n              }\n            }\n          }\n        }\n      }\n    "]);return ae=function(){return e},e}var ne=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n=x()(ae(),a,P()().subtract(30,"days"));return r.state={query:n},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement(M.a,{query:this.state.query},(function(e){var t=e.loading,r=e.error,a=e.data;if(t)return n.a.createElement(V,null);if(r)return n.a.createElement(K,{error:r.message});var s=Object(w.get)(a,"project.projectData.resources",[]);return n.a.createElement(T.a,{data:{labels:s.map((function(e){return e.browser})),datasets:[{label:"Connect Failures",backgroundColor:"#FF6384",data:s.map((function(e){return Object(w.get)(e,"errors.connect.failures",0)}))},{label:"Publish Failures",backgroundColor:"#E89033",data:s.map((function(e){return Object(w.get)(e,"errors.publish.failures",0)}))},{label:"Subscribe Failures",backgroundColor:"#FFCE56",data:s.map((function(e){return Object(w.get)(e,"errors.subscribe.failures",0)}))}]}})}))}}]),t}(a.Component),se=function(e){function t(e){return Object(b.a)(this,t),Object(m.a)(this,Object(f.a)(t).call(this))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{id:"navbar-example3",className:"navbar navbar-light bg-light position-fixed h-100"},n.a.createElement("nav",{className:"nav nav-pills flex-column"},n.a.createElement("a",{className:"nav-link font-weight-bold",href:"#usage"},"Usage"),n.a.createElement("nav",{className:"nav nav-pills flex-column"},n.a.createElement("a",{className:"nav-link ml-3 my-1",href:"#usage-by-day"},"By Day"),n.a.createElement("a",{className:"nav-link ml-3 my-1",href:"#usage-by-location"},"By Location"),n.a.createElement("a",{className:"nav-link ml-3 my-1",href:"#usage-by-browser"},"By Browser"),n.a.createElement("a",{className:"nav-link ml-3 my-1",href:"#usage-by-browser-version"},"By Browser Version"),n.a.createElement("a",{className:"nav-link ml-3 my-1",href:"#usage-by-sdk-version"},"By SDK Version"),n.a.createElement("a",{className:"nav-link ml-3 my-1",href:"#usage-by-sdk-distribution"},"By SDK Distribution")),n.a.createElement("a",{className:"nav-link font-weight-bold",href:"#quality-and-failures"},"Quality and Failures"),n.a.createElement("nav",{className:"nav nav-pills flex-column"},n.a.createElement("a",{className:"nav-link ml-3 my-1",href:"#failures-by-browser"},"Failures by browser"),n.a.createElement("a",{className:"nav-link ml-3 my-1",href:"#failures-by-sdktype"},"Failures by SDK Type")),n.a.createElement("a",{className:"nav-link font-weight-bold",href:"#speed"},"Speed"),n.a.createElement("nav",{className:"nav nav-pills flex-column"},n.a.createElement("a",{className:"nav-link ml-3 my-1",href:"#latency-by-country"},"Latency By Country"),n.a.createElement("a",{className:"nav-link ml-3 my-1",href:"#bitrate-by-country"},"Bitrate by Country"))))}}]),t}(n.a.Component);function ce(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n          projectData(\n            start: ",",\n            groupBy: BROWSER,\n            browser: [CHROME, FIREFOX, IE, EDGE, SAFARI]\n          ) {\n            resources {\n              browser,\n              errors {\n                connect {\n                  failures\n                },\n                publish {\n                  failures\n                },\n                subscribe {\n                  failures\n                }\n              }\n            }\n          }\n        }\n      }\n    "]);return ce=function(){return e},e}var oe=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n=x()(ce(),a,P()().subtract(30,"days"));return r.state={query:n},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement(M.a,{query:this.state.query},(function(e){var t=e.loading,r=e.error,a=e.data;if(t)return n.a.createElement(V,null);if(r)return n.a.createElement(K,{error:r.message});var s=Object(w.get)(a,"project.projectData.resources",[]);return n.a.createElement(T.a,{data:{labels:s.map((function(e){return e.browser})),datasets:[{label:"Connect Failures",backgroundColor:"#FF6384",data:s.map((function(e){return Object(w.get)(e,"errors.connect.failures",0)}))},{label:"Publish Failures",backgroundColor:"#E89033",data:s.map((function(e){return Object(w.get)(e,"errors.publish.failures",0)}))},{label:"Subscribe Failures",backgroundColor:"#FFCE56",data:s.map((function(e){return Object(w.get)(e,"errors.subscribe.failures",0)}))}]}})}))}}]),t}(a.Component);function ie(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n          projectData(\n            start: ",",\n            groupBy: COUNTRY\n          ) {\n            resources {\n              country,\n              quality {\n                subscriber {\n                  videoBitrateKbpsAvg\n                }\n              }\n            }\n          }\n        }\n      }\n    "]);return ie=function(){return e},e}var ue=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n=x()(ie(),a,P()().subtract(30,"days"));return r.state={query:n},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement(M.a,{query:this.state.query},(function(e){var t=e.loading,r=e.error,a=e.data;if(t)return n.a.createElement(V,null);if(r)return n.a.createElement(K,{error:r.message});var s=Object(w.get)(a,"project.projectData.resources",[]);return n.a.createElement(T.b,{data:{labels:s.map((function(e){return e.country})),datasets:[{label:"Avg. Bitrate",backgroundColor:"#36A2EB",data:s.map((function(e){return Object(w.get)(e,"quality.subscriber.videoBitrateKbpsAvg",0)}))}]}})}))}}]),t}(a.Component),le=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this,e));var a=JSON.parse(localStorage.getItem("project")),n=a.project_id,s=a.project_secret,c=a.query_type,o=a.session_id;return r.state={projectId:n,projectSecret:s,queryType:c,sessionId:o,client:""},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.projectId,r=e.projectSecret,a=C(t,r),n=new D.a({link:new k.a({uri:S()("https://insights.opentok.com","/graphql"),headers:{"X-OPENTOK-AUTH":a}}),cache:new B.a});this.setState({client:n})}},{key:"render",value:function(){var e=this.state,t=e.client,r=e.projectId;return""===t?null:n.a.createElement(N.a,{client:t},n.a.createElement("div",{className:"container-fluid p-0"},n.a.createElement(g,{title:"Project Dashboard",type:"project",projectId:r}),n.a.createElement("div",{className:"row my-5 mx-0 header-spacer"},n.a.createElement("div",{className:"col-2 p-0"},n.a.createElement(se,{type:"project",typeId:r})),n.a.createElement("div",{className:"col pr-0"},n.a.createElement("div",{"data-spy":"scroll","data-target":"#navbar-example3","data-offset":"0"},n.a.createElement("div",{id:"usage"},n.a.createElement(A,{titleIcon:"area",title:"Usage by Day",scrollId:"usage-by-day"},n.a.createElement(U,{projectId:r})),n.a.createElement(A,{titleIcon:"area",title:"Usage by Location",scrollId:"usage-by-location"},n.a.createElement(J,{projectId:r})),n.a.createElement(A,{titleIcon:"area",title:"Usage by Browser",scrollId:"usage-by-browser"},n.a.createElement(H,{projectId:r})),n.a.createElement(A,{titleIcon:"area",title:"Usage by Browser Version",scrollId:"usage-by-browser-version"},n.a.createElement(z,{projectId:r})),n.a.createElement(A,{titleIcon:"area",title:"Usage by SDK Version",scrollId:"usage-by-sdk-version"},n.a.createElement($,{projectId:r})),n.a.createElement(A,{titleIcon:"area",title:"Usage by SDK Distribution",scrollId:"usage-by-sdk-distribution"},n.a.createElement(ee,{projectId:r}))),n.a.createElement("div",{id:"quality-and-failures"},n.a.createElement(A,{titleIcon:"area",title:"Failures by SDK Type",scrollId:"failures-by-sdktype"},n.a.createElement(ne,{projectId:r})),n.a.createElement(A,{titleIcon:"area",title:"Failures by Browser",scrollId:"failures-by-browser"},n.a.createElement(oe,{projectId:r}))),n.a.createElement("div",{id:"speed"},n.a.createElement(A,{titleIcon:"area",title:"Latency By Country",scrollId:"latency-by-country"},n.a.createElement(re,{projectId:r})),n.a.createElement(A,{titleIcon:"area",title:"Bitrate By Country",scrollId:"bitrate-by-country"},n.a.createElement(ue,{projectId:r}))))))))}}]),t}(n.a.Component),be=function(e){function t(e){return Object(b.a)(this,t),Object(m.a)(this,Object(f.a)(t).call(this))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{id:"navbar-example3",className:"navbar navbar-light bg-light position-fixed h-100"},n.a.createElement("nav",{className:"nav nav-pills flex-column"},n.a.createElement("a",{className:"nav-link font-weight-bold",href:"#totalUnits"},"Total Units"),n.a.createElement("a",{className:"nav-link font-weight-bold",href:"#stats"},"Statistics"),n.a.createElement("nav",{className:"nav nav-pills flex-column"},n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#stats-by-browser"},"By Browser"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#stats-by-location"},"By Location"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#stats-by-browser-version"},"By Browser Version"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#stats-by-sdk-version"},"By SDK Version"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#stats-by-sdk-distribution"},"By SDK Distribution")),n.a.createElement("a",{className:"nav-link font-weight-bold",href:"#publisher-stats"},"Publisher Details"),n.a.createElement("nav",{className:"nav nav-pills flex-column"},n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#publisher-stats-by-video-bitrate"},"Video Bitrate Stats"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#publisher-stats-by-video-packet-loss"},"Video Packet Loss Stats"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#publisher-stats-by-video-latency"},"Video Latency Stats"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#publisher-stats-by-audio-bitrate"},"Audio Bitrate Stats"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#publisher-stats-by-audio-packet-loss"},"Audio Packet Loss Stats"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#publisher-stats-by-audio-latency"},"Audio Latency Stats")),n.a.createElement("a",{className:"nav-link font-weight-bold",href:"#subscriber-stats"},"Subscriber Details"),n.a.createElement("nav",{className:"nav nav-pills flex-column"},n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#subscriber-stats-by-video-bitrate"},"Video Bitrate Stats"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#subscriber-stats-by-video-packet-loss"},"Video Packet Loss Stats"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#subscriber-stats-by-video-latency"},"Video Latency Stats"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#subscriber-stats-by-audio-bitrate"},"Audio Bitrate Stats"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#subscriber-stats-by-audio-packet-loss"},"Audio Packet Loss Stats"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#subscriber-stats-by-audio-latency"},"Audio Latency Stats")),n.a.createElement("a",{className:"nav-link font-weight-bold",href:"#connection-details"},"Connection Details"),n.a.createElement("a",{className:"nav-link ml-3 py-0",href:"#connection-stats"},"Publishers Count"),n.a.createElement("nav",{className:"nav nav-pills flex-column"})))}}]),t}(n.a.Component);function de(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            totalCount\n            resources {\n              publisherMinutes\n              subscriberMinutes\n            }\n          }\n        }\n        }\n      }\n    "]);return de=function(){return e},e}var me=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(de(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement(M.a,{query:this.state.query},(function(e){var t=e.loading,r=e.error,a=e.data;if(t)return n.a.createElement(V,null);if(r)return n.a.createElement(K,{error:r.message});var s=Object(w.get)(a,"project.sessionData.sessions.resources",[]),c=s.map((function(e){return Object(w.get)(e,"publisherMinutes",0)})),o=s.map((function(e){return Object(w.get)(e,"subscriberMinutes",0)}));return n.a.createElement("div",{className:"card-deck m-0"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},"Total Published Minutes"),n.a.createElement("h1",null,"NaN"===W(c,2).toString()?"N/A":W(c,2)))),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},"Total Subscribed Minutes"),n.a.createElement("h1",null,"NaN"===W(o,2).toString()?"N/A":W(o,2)))))}))}}]),t}(a.Component),fe=function(e){function t(){return Object(b.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"EmptyGraph"},"Error! Data not provided from source!")}}]),t}(a.Component);function ve(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  publishers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          videoBitrateKbps\n                          videoResolution\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return ve=function(){return e},e}var pe=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"publishers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.videoBitrateKbps>1e3?e:e.concat({x:t.createdAt,y:t.videoBitrateKbps})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(ve(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"publishers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"kbps"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function je(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  connections {\n                    totalCount\n                    maxConcurrent\n                    resources {\n                      guid\n                      connectionId\n                      country\n                      region\n                      city\n                      browser\n                      browserVersion\n                      deviceModel\n                      userAgent\n                      sdkType\n                      sdkVersion\n                      createdAt\n                      destroyedAt\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return je=function(){return e},e}var he=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(je(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t=e.filter((function(e){return null!=e.browser})),r={};return t.forEach((function(e){var t=e.browser;r[t]=r[t]?r[t]+1:1})),{labels:Object.keys(r),chartData:Object.values(r)}}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0].map((function(e){return Object(w.get)(e,"connections.resources",[])}))[0],u=e.getSubscribedData(i),l=u.labels,b=u.chartData;c=n.a.createElement(T.d,{data:{labels:l,datasets:[{data:b,backgroundColor:["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"]}]}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function ye(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  connections {\n                    totalCount\n                    maxConcurrent\n                    resources {\n                      browser\n                      browserVersion\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return ye=function(){return e},e}var ge=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(ye(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t=e.filter((function(e){return null!=e.browserVersion})),r={};return t.forEach((function(e){var t=e.browser+e.browserVersion;r[t]=r[t]?r[t]+1:1})),{labels:Object.keys(r),chartData:Object.values(r)}}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0].map((function(e){return Object(w.get)(e,"connections.resources",[])}))[0],u=e.getSubscribedData(i),l=u.labels,b=u.chartData;c=n.a.createElement(T.d,{data:{labels:l,datasets:[{data:b,backgroundColor:["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"]}]}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Ee(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  connections {\n                    totalCount\n                    maxConcurrent\n                    resources {\n                      country\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Ee=function(){return e},e}var Oe=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(Ee(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t=e.filter((function(e){return null!=e.country})),r={};return t.forEach((function(e){var t=e.country;r[t]=r[t]?r[t]+1:1})),Object.entries(r)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0].map((function(e){return Object(w.get)(e,"connections.resources",[])}))[0],u=[["Country","No. of Connections"]],l=e.getSubscribedData(i);u=u.concat(l),c=n.a.createElement(R.a,{chartType:"GeoChart",data:u,width:"100%",height:"400px",legendToggle:!0})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Ce(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  connections {\n                    totalCount\n                    maxConcurrent\n                    resources {\n                      sdkType\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Ce=function(){return e},e}var Ie=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(Ce(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t=e.filter((function(e){return null!=e.sdkType})),r={};return t.forEach((function(e){var t=e.sdkType;r[t]=r[t]?r[t]+1:1})),{labels:Object.keys(r),chartData:Object.values(r)}}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0].map((function(e){return Object(w.get)(e,"connections.resources",[])}))[0],u=e.getSubscribedData(i),l=u.labels,b=u.chartData;c=n.a.createElement(T.d,{data:{labels:l,datasets:[{data:b,backgroundColor:["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"]}]}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Se(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  connections {\n                    totalCount\n                    maxConcurrent\n                    resources {\n                      sdkVersion\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Se=function(){return e},e}var De=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this));var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(Se(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t=e.filter((function(e){return null!=e.sdkVersion})),r={};return t.forEach((function(e){var t=e.sdkVersion;r[t]=r[t]?r[t]+1:1})),{labels:Object.keys(r),chartData:Object.values(r)}}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0].map((function(e){return Object(w.get)(e,"connections.resources",[])}))[0],u=e.getSubscribedData(i),l=u.labels,b=u.chartData;c=n.a.createElement(T.d,{data:{labels:l,datasets:[{data:b,backgroundColor:["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"]}]}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function ke(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  publishers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          videoPacketLoss\n                          videoResolution\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return ke=function(){return e},e}var Be=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"publishers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.videoPacketLoss>1e3?e:e.concat({x:t.createdAt,y:t.videoPacketLoss})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(ke(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"publishers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"%(Percentage)"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Ne(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  publishers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          videoLatencyMs\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Ne=function(){return e},e}var Ae=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"publishers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.videoLatencyMs>1e3?e:e.concat({x:t.createdAt,y:t.videoLatencyMs})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(Ne(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"publishers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"milliseconds"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Fe(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  subscribers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          videoBitrateKbps\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Fe=function(){return e},e}var qe=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"subscribers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.videoBitrateKbps>1e3?e:e.concat({x:t.createdAt,y:t.videoBitrateKbps})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(Fe(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"subscribers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"kbps"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function xe(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  subscribers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          videoPacketLoss\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return xe=function(){return e},e}var Me=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"subscribers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.videoPacketLoss>1e3?e:e.concat({x:t.createdAt,y:t.videoPacketLoss})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(xe(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"subscribers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"%(Percentage)"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Te(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  subscribers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          videoLatencyMs\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Te=function(){return e},e}var we=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"subscribers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.videoLatencyMs>1e3?e:e.concat({x:t.createdAt,y:t.videoLatencyMs})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(Te(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"subscribers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"milliseconds"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Le(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  publishers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          audioBitrateKbps\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Le=function(){return e},e}var Pe=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"publishers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.audioBitrateKbps>1e3?e:e.concat({x:t.createdAt,y:t.audioBitrateKbps})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(Le(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"publishers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"kbps"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Ve(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  publishers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          audioPacketLoss\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Ve=function(){return e},e}var Ke=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"publishers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.audioPacketLoss>1e3?e:e.concat({x:t.createdAt,y:t.audioPacketLoss})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(Ve(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"publishers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"%(Percentage)"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function _e(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  publishers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          audioLatencyMs\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return _e=function(){return e},e}var Ue=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"publishers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.audioLatencyMs>1e3?e:e.concat({x:t.createdAt,y:t.audioLatencyMs})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(_e(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"publishers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"milliseconds"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Re(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  subscribers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          audioBitrateKbps\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Re=function(){return e},e}var We=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"subscribers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.audioBitrateKbps>1e3?e:e.concat({x:t.createdAt,y:t.audioBitrateKbps})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(Re(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"subscribers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"kbps"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Ye(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  subscribers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          audioPacketLoss\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Ye=function(){return e},e}var Je=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"subscribers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.audioPacketLoss>1e3?e:e.concat({x:t.createdAt,y:t.audioPacketLoss})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(Ye(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"subscribers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"%(Percentage)"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Ge(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  subscribers {\n                    totalCount\n                    resources {\n                      stream {\n                        streamId\n                      }\n                      streamStatsCollection {\n                        resources {\n                          audioLatencyMs\n                          createdAt\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Ge=function(){return e},e}var He=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).convertStreamArrayToChartData=function(e){var t=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],r=0;return Object(w.get)(e,"subscribers.resources",[]).reduce((function(e,a){var n=Object(w.get)(a,"streamStatsCollection.resources",[]);if(n.length<3)return e;var s=t[r%t.length];r++;var c=a.stream.streamId.substring(0,8),o={borderColor:s,fill:!1,label:"Stream ".concat(c,"..."),data:n.reduce((function(e,t){return t.audioLatencyMs>1e3?e:e.concat({x:t.createdAt,y:t.audioLatencyMs})}),[])};return e.concat(o)}),[])};var a=e.projectId,n='"'.concat(e.sessionId,'"'),s=x()(Ge(),a,n);return r.state={query:s},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t={},r=0;return e.forEach((function(e){var a=0;Object(w.get)(e,"subscribers.resources",[]).forEach((function(e){a+=Object(w.get)(e,"streamStatsCollection.resources.length",0)})),a>r&&(t=e,r=a)})),this.convertStreamArrayToChartData(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c,o=Object(w.get)(s,"project.sessionData.sessions.resources",[]);if(o.length>0){var i=o.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0],u=e.getSubscribedData(i);c=n.a.createElement(T.c,{data:{datasets:u},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"milliseconds"}}],xAxes:[{type:"time",distribution:"linear",time:{unit:"minute",displayFormats:{minute:"MMM D, hh:mm:ss"}}}]}}})}else c=n.a.createElement(fe,null);return c}))}}]),t}(a.Component);function Qe(){var e=Object(F.a)(["\n      {\n        project(projectId: ",") {\n        sessionData {\n          sessions(sessionIds: [","]) {\n            resources {\n              meetings {\n                resources {\n                  connections {\n                    totalCount\n                    maxConcurrent\n                    resources {\n                      guid\n                      connectionId\n                      publishers {\n                        totalCount\n                        resources {\n                          connectionId\n                          createdAt\n                          destroyedAt\n                          stream {\n                            streamId\n                            hasAudioTrack\n                            hasVideoTrack\n                            videoType\n                          }\n                          streamStatsCollection {\n                            totalCount\n                            resources {\n                              createdAt\n                              hasAudio\n                              hasVideo\n                            }\n                          }\n                          subscribers {\n                            totalCount\n                            resources {\n                              subscriberId\n                              connectionId\n                              createdAt\n                              destroyedAt\n                              stream {\n                                streamId\n                                hasAudioTrack\n                                hasVideoTrack\n                                videoType\n                              }\n                              streamStatsCollection {\n                                totalCount\n                                resources {\n                                  createdAt\n                                  subscribeToAudio\n                                  subscribeToVideo\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        }\n      }\n    "]);return Qe=function(){return e},e}var ze=function(e){function t(e){var r;Object(b.a)(this,t),(r=Object(m.a)(this,Object(f.a)(t).call(this))).createTable=function(e){var t=[];if(e.length>0)for(var r=0;r<e.length;r++){for(var a=[],s=0;s<e[r].length;s++)a.push(n.a.createElement("td",{key:"".concat(s+1)},"".concat(e[r][s])));t.push(n.a.createElement("tr",{key:"".concat(r+1)},a))}else{var c=[];c.push(n.a.createElement("td",{key:"No values",colSpan:"3",className:"text-center"},"No connection data available from source.")),t.push(n.a.createElement("tr",{key:"No rows"},c))}return t};var a=e.projectId,s='"'.concat(e.sessionId,'"'),c=x()(Qe(),a,s);return r.state={query:c},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getSubscribedData",value:function(e){var t=[];return e.forEach((function(e,r){var a=[];a.push(r+1),a.push(e.connectionId),a.push(Object(w.get)(e,"publishers.totalCount",0)),t.push(a)})),t}},{key:"render",value:function(){var e=this;return n.a.createElement(M.a,{query:this.state.query},(function(t){var r=t.loading,a=t.error,s=t.data;if(r)return n.a.createElement(V,null);if(a)return n.a.createElement(K,{error:a.message});var c=Object(w.get)(s,"project.sessionData.sessions.resources",[]),o=[];if(c.length>0){var i=c.map((function(e){return Object(w.get)(e,"meetings.resources",[])}))[0].map((function(e){return Object(w.get)(e,"connections.resources",[])}))[0];o=e.getSubscribedData(i)}return n.a.createElement("table",{className:"table table-bordered"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},"Connection ID"),n.a.createElement("th",{scope:"col"},"Total Publishers"))),n.a.createElement("tbody",null,e.createTable(o)))}))}}]),t}(a.Component),Xe=function(e){function t(e){var r;Object(b.a)(this,t),r=Object(m.a)(this,Object(f.a)(t).call(this,e));var a=JSON.parse(localStorage.getItem("session")),n=a.project_id,s=a.project_secret,c=a.query_type,o=a.session_id;return r.state={projectId:n,projectSecret:s,queryType:c,sessionId:o,client:""},r}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.projectId,r=e.projectSecret,a=C(t,r),n=new D.a({link:new k.a({uri:S()("https://insights.opentok.com","/graphql"),headers:{"X-OPENTOK-AUTH":a}}),cache:new B.a});this.setState({client:n})}},{key:"render",value:function(){var e=this.state,t=e.client,r=e.projectId,a=e.sessionId;return""===t?null:n.a.createElement(N.a,{client:t},n.a.createElement("div",{className:"container-fluid p-0"},n.a.createElement(g,{title:"Session Dashboard",type:"session",projectId:r,sessionId:a}),n.a.createElement("div",{className:"row my-5 mx-0 header-spacer"},n.a.createElement("div",{className:"col-2 p-0"},n.a.createElement(be,{type:"session",projectId:r,sessionId:a})),n.a.createElement("div",{className:"col-10 pr-0 scroll-element"},n.a.createElement("div",{"data-spy":"scroll","data-target":"#navbar-example3","data-offset":"0"},n.a.createElement("div",{id:"totalUnits"},n.a.createElement("h2",{className:"text-capitalize my-4 border-bottom"},"Total Units"),n.a.createElement(me,{projectId:r,sessionId:a})),n.a.createElement("div",{id:"quality-stats"},n.a.createElement("h2",{className:"text-capitalize my-4 border-bottom"},"statistics"),n.a.createElement(A,{titleIcon:"area",title:"Browser Stats",scrollId:"stats-by-browser"},n.a.createElement(he,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Browser Version Stats",scrollId:"stats-by-browser-version"},n.a.createElement(ge,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Country Stats",scrollId:"stats-by-location"},n.a.createElement(Oe,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"SDK Type Stats",scrollId:"stats-by-sdk-distribution"},n.a.createElement(Ie,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"SDK Version Stats",scrollId:"stats-by-sdk-version"},n.a.createElement(De,{projectId:r,sessionId:a}))),n.a.createElement("div",{id:"publisher-stats"},n.a.createElement("h2",{className:"text-capitalize my-4 border-bottom"},"publisher details"),n.a.createElement(A,{titleIcon:"area",title:"Publisher Video Bitrate Stats",scrollId:"publisher-stats-by-video-bitrate"},n.a.createElement(pe,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Publisher Video Packet Loss Stats",scrollId:"publisher-stats-by-video-packet-loss"},n.a.createElement(Be,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Publisher Video Latency Stats",scrollId:"publisher-stats-by-video-latency"},n.a.createElement(Ae,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Publisher Audio Bitrate Stats",scrollId:"publisher-stats-by-audio-bitrate"},n.a.createElement(Pe,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Publisher Audio Packet Loss Stats",scrollId:"publisher-stats-by-audio-packet-loss"},n.a.createElement(Ke,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Publisher Audio Latency Stats",scrollId:"publisher-stats-by-audio-latency"},n.a.createElement(Ue,{projectId:r,sessionId:a}))),n.a.createElement("div",{id:"subscriber-stats"},n.a.createElement("h2",{className:"text-capitalize my-4 border-bottom"},"subscriber details"),n.a.createElement(A,{titleIcon:"area",title:"Subscriber Video Bitrate Stats",scrollId:"subscriber-stats-by-video-bitrate"},n.a.createElement(qe,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Subscriber Video Packet Loss Stats",scrollId:"subscriber-stats-by-video-packet-loss"},n.a.createElement(Me,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Subscriber Video Latency Stats",scrollId:"subscriber-stats-by-video-latency"},n.a.createElement(we,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Subscriber Audio Bitrate Stats",scrollId:"subscriber-stats-by-audio-bitrate"},n.a.createElement(We,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Subscriber Audio Packet Loss Stats",scrollId:"subscriber-stats-by-audio-packet-loss"},n.a.createElement(Je,{projectId:r,sessionId:a})),n.a.createElement(A,{titleIcon:"area",title:"Subscriber Audio Latency Stats",scrollId:"subscriber-stats-by-audio-latency"},n.a.createElement(He,{projectId:r,sessionId:a}))),n.a.createElement("div",{id:"connection-details",className:"m-3"},n.a.createElement("h2",{className:"text-capitalize my-4 border-bottom"},"Connections details"),n.a.createElement(ze,{projectId:r,sessionId:a,scrollId:"connection-stats"})))))))}}]),t}(n.a.Component);var $e=function(){return n.a.createElement(o.a,null,n.a.createElement(i.c,null,n.a.createElement(i.a,{exact:!0,path:"/",component:y}),n.a.createElement(i.a,{path:"/project",component:le}),n.a.createElement(i.a,{path:"/session",component:Xe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement($e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[181,1,2]]]);
//# sourceMappingURL=main.8590deff.chunk.js.map